section,heading,xpath,auth_file,auth_section,auth_col,separator,format,comment
metadata,deco UID,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/concat(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""], ""_deco_"", count(preceding::tei:decoNote[not(tei:list)]|preceding::tei:item[parent::tei:list[not(@type=""gloss"")][parent::tei:decoNote]]|preceding::tei:list[@type=""gloss""][parent::tei:decoNote]) + 1)",,,,,text,"A unique identifier for the decoration, generated by concatenating the identifier given to the manuscript with which the decoration is associated with a count of how many decoNote elements precede the current element in the entry file."
metadata,file URL,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(ancestor::tei:TEI/@xml:id, "" "")",,,,,text,"A unique identifier for the catalogue file, given in the xml:id attribute to the TEI root element."
metadata,collection,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""collection""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The collection in which the manuscript is recorded, given in an idno element within the publicationStmt element which has @type ""collection"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms ID,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript, given in an idno element within the publicationStmt element which has @type ""msID"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,shelfmark,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:sourceDesc/tei:msDesc/tei:msIdentifier/tei:idno[@type=""shelfmark""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The shelfmark given to the manuscript, given in an idno element within the publicationStmt element which has @type ""shelfmark"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms type,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join((ancestor::tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]/('part'),ancestor::tei:msPart[@type=('fragment','wrapper','flyleaf')]/('fragment'),ancestor::tei:msDesc[not(.//tei:msPart)]/('manuscript'),ancestor::tei:msDesc[.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]]/('manuscript-composite'),ancestor::tei:msDesc[.//tei:msPart and not(.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))])]/('manuscript-with-fragment'))[1], "" "")",,,,,text,"Whether the current row concerns a fragment ('fragment'), a manuscript part ('part'), an entire manuscript ('manuscript'), a manuscript containing parts ('manuscript-composite') or a manuscript containing fragments ('manuscript-with-fragment'). "
metadata,part name,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join((ancestor::tei:msPart|ancestor::tei:msDesc)[last()]//tei:idno[@type=""part""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an idno element which has @type ""part"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,part ID,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join((ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/@xml:id, "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an xml:id attribute. If the current row is not for a fragment or a manuscript part, this column will be the same as the metadata: ID column."
overview,decoration,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join((ancestor::tei:decoDesc/tei:summary|ancestor::tei:decoNote[tei:list[@type=""gloss""]]/tei:p)/string-join(., """"), ""; ""))",,,,,text,"An overview of the current decoration, as encoded within the decoNote element."
overview,description,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(text()|.//*[not(normalize-space(string-join(./text(),""""))="""")][not(ancestor-or-self::tei:seg[@type=""genreform""])][not(ancestor-or-self::tei:label)][not(ancestor-or-self::tei:head)][not(ancestor-or-self::tei:locus)], """"))",,,,,text,"A prose description of the current decoration, as encoded within the decoNote element but excluding structured information like loci and types."
overview,type,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(ancestor-or-self::tei:decoNote/@type, "" "")",,,,,text,"The type associated with this decoration, as given in the @type attribute. Values are as defined at: https://msdesc.github.io/consolidated-tei-schema/msdesc.html#decoNote. When multiple values exist, they are separated by a space."
locus,locus,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join((tei:locus[text()]/string-join(.,""""), tei:head/string-join(.,"""")), ""; ""))",,,,,text,"Details of any locus information for this feature encoded within a locus element. When multiple loci are given, they are separated using a semi-colon."
locus,from,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(tei:locus/@from, "" "")",,,,,number,"The folio, page, or membrane reference at which this feature begins, as encoded within the @from attribute to a locus element. Where multiple loci are given, they are separated by a space."
locus,to,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(tei:locus/(@to|@from)[last()], "" "")",,,,,number,"The folio, page, or membrane reference at which this feature ends, as encoded within the @to attribute to a locus element. Where multiple loci are given, they are separated by a space."
date,date,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:date/string-join(.,""""), ""; ""))",,,,,date,"Details of the date associated with this feature, as encoded within a date element. This value may be given in a standardised date format, or as text."
date,when,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(.//tei:date/@when, "" "")",,,,,date,"The date associated with this feature, formatted as a date, as encoded within the @when attribute of a date element."
date,not before,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(.//tei:date/(@notBefore|@from|@when)[last()], "" "")",,,,,date,"The terminus post quem associated with this feature, formatted as a date, as encoded within the @notBefore attribute of a date element."
date,not after,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(.//tei:date/(@notAfter|@to|@when)[last()], "" "")",,,,,date,"The terminus ante quem associated with this feature, formatted as a date, as encoded within the @notAfter attribute of a date element."
date,certainty,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:date/@cert), "" "")",,,,,text,"The certainty of the dating in the preceding columns, as encoded within the @cert attribute attribute of a date element. Possible values are high, medium, and low."
date,calendar,"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:date/@calendar), "" "")",,,,,text,"The calendar used for the dating in the preceding columns, as encoded within the @calendar attribute of a date element. The most common value is Gregorian."
people,scribe name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[contains(@role,""scr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as a scribe through an appropriate @role attribute.
people,scribe ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[contains(@role,""scr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as a scribe through an appropriate @role attribute."
people,signer name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[contains(@role,""sgn"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as a signer through an appropriate @role attribute.
people,signer ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[contains(@role,""sgn"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as a signer through an appropriate @role attribute."
people,artist name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[contains(@role,""art"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as an artist through an appropriate @role attribute.
people,artist ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[contains(@role,""art"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as an artist through an appropriate @role attribute."
people,patron name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[contains(@role,""pat"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as a patron through an appropriate @role attribute.
people,patron ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[contains(@role,""pat"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as a patron through an appropriate @role attribute."
people,dedicatee name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[contains(@role,""dte"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as a dedicatee through an appropriate @role attribute.
people,dedicatee ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[contains(@role,""dte"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as a dedicatee through an appropriate @role attribute."
people,former owner name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[contains(@role,""fmo"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as a former owner through an appropriate @role attribute.
people,former owner ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as a former owner through an appropriate @role attribute."
people,donor name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[contains(@role,""dnr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as a donor through an appropriate @role attribute.
people,donor ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[contains(@role,""dnr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as a donor through an appropriate @role attribute."
people,other name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:persName[not(@role)]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the decoration information within a persName element and identified as a donor through an appropriate @role attribute.
people,other ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:persName[not(@role)]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the decoration information within a persName element and identified as a donor through an appropriate @role attribute."
orgs,name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:orgName[not(@role)]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) associated with the decoration and encoded within a orgName element.
orgs,ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/string-join(distinct-values(.//tei:orgName[not(@role)]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) associated with the decoration and encoded within a orgName element."
places,name(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:placeName/string-join(., """"), ""; ""))",,,,,text,Details of any place(s) associated with the decoration and encoded within a placeName element.
places,ID(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(distinct-values(.//tei:placeName/@key), "" ""))",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any place(s) associated with the decoration and encoded within a placeName element."
bibliography,bibl(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:bibl/string-join(., """"), ""; ""))",,,,,text,"All bibliographic references associated with this feature, as encoded within bibl elements."
bibliography,ref(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:ref/string-join(., """"), ""; ""))",,,,,text,"All references associated with this feature, as encoded within ref elements."
bibliography,ref URI(s),"(//tei:decoNote[not(tei:list)]|//tei:decoNote/tei:list[not(@type=""gloss"")]/tei:item|//tei:decoNote/tei:list[@type=""gloss""])/normalize-space(string-join(.//tei:ref/@target, "" ""))",,,,,text,"URIs for all references associated with this feature, as encoded within @target attributes to ref elements."