section,heading,xpath,auth_file,auth_section,auth_col,separator,format,comment
metadata,provenance UID,"//tei:provenance/concat(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""], ""_prov_"", count(preceding::tei:provenance) + 1)",,,,,text,"A unique identifier for the provenance information, generated by concatenating the identifier given to the manuscript with which the details are associated with a count of how many provenance elements precede the current element in the entry file."
metadata,file URL,"//tei:provenance/string-join(ancestor::tei:TEI/@xml:id, "" "")",,,,,text,"A unique identifier for the catalogue file, given in the xml:id attribute to the TEI root element."
metadata,collection,"//tei:provenance/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""collection""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The collection in which the manuscript is recorded, given in an idno element within the publicationStmt element which has @type ""collection"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms ID,"//tei:provenance/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript, given in an idno element within the publicationStmt element which has @type ""msID"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,shelfmark,"//tei:provenance/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:sourceDesc/tei:msDesc/tei:msIdentifier/tei:idno[@type=""shelfmark""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The shelfmark given to the manuscript, given in an idno element within the publicationStmt element which has @type ""shelfmark"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms type,"//tei:provenance/string-join((ancestor::tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]/('part'),ancestor::tei:msPart[@type=('fragment','wrapper','flyleaf')]/('fragment'),ancestor::tei:msDesc[not(.//tei:msPart)]/('manuscript'),ancestor::tei:msDesc[.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]]/('manuscript-composite'),ancestor::tei:msDesc[.//tei:msPart and not(.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))])]/('manuscript-with-fragment'))[1], "" "")",,,,,text,"Whether the current row concerns a fragment ('fragment'), a manuscript part ('part'), an entire manuscript ('manuscript'), a manuscript containing parts ('manuscript-composite') or a manuscript containing fragments ('manuscript-with-fragment'). "
metadata,part name,"//tei:provenance/string-join((ancestor::tei:msPart|ancestor::tei:msDesc)[last()]//tei:idno[@type=""part""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an idno element which has @type ""part"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,part ID,"//tei:provenance/string-join((ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/@xml:id, "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an xml:id attribute. If the current row is not for a fragment or a manuscript part, this column will be the same as the metadata: ID column."
overview,provenance,"//tei:provenance/normalize-space(string-join(., """"))",,,,,text,"Details of the provenance of the manuscript or manuscript part, as encoded within a provenance element within the history element."
overview,type,"//tei:provenance/string-join(@type, "" "")",,,,,text,"The type of the current provenance information, as encoded within a @type attribute to the provenance element."
dates,when,"//tei:provenance/string-join(@when, "" "")",,,,,date,"The date associated with this feature, formatted as a date, as encoded within the @when attribute."
dates,not before,"//tei:provenance/string-join((@notBefore|@from|@when)[last()], "" "")",,,,,date,"The terminus post quem associated with this feature, formatted as a date, as encoded within the @notBefore attribute."
dates,not after,"//tei:provenance/string-join((@notAfter|@to|@when)[last()], "" "")",,,,,date,"The terminus ante quem associated with this feature, formatted as a date, as encoded within the @notAfter attribute."
dates,from,"//tei:provenance/string-join(@from, "" "")",,,,,date,"The beginning of a time period associated with this feature, formatted as a date, as encoded within the @from attribute."
dates,to,"//tei:provenance/string-join((@to|@from)[last()], "" "")",,,,,date,"The beginning of a time period associated with this feature, formatted as a date, as encoded within the @to attribute."
dates,certainty,"//tei:provenance/string-join(distinct-values(@cert), "" "")",,,,,text,"The certainty of the dating in the preceding columns, as encoded within the @cert attribute attribute. Possible values are high, medium, and low."
dates,calendar,"//tei:provenance/string-join(distinct-values(@calendar), "" "")",,,,,text,"The calendar used for the dating in the preceding columns, as encoded within the @calendar attribute. The most common value is Gregorian."
people,author name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""aut"") or contains(@role, ""auth"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as an author through an appropriate @role attribute.
people,author ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""aut"") or contains(@role, ""auth"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as an author through an appropriate @role attribute."
people,scribe name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""scr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as a scribe through an appropriate @role attribute.
people,scribe ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""scr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as a scribe through an appropriate @role attribute."
people,signer name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""sgn"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as a signer through an appropriate @role attribute.
people,signer ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""sgn"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as a signer through an appropriate @role attribute."
people,annotator name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""ann"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as an annotator through an appropriate @role attribute.
people,annotator ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""ann"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as an annotator through an appropriate @role attribute."
people,artist name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""art"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as an artist through an appropriate @role attribute.
people,artist ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""art"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as an artist through an appropriate @role attribute."
people,patron name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""pat"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as a patron through an appropriate @role attribute.
people,patron ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""pat"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as a patron through an appropriate @role attribute."
people,binder name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""bnd"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as a binder through an appropriate @role attribute.
people,binder ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""bnd"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as a binder through an appropriate @role attribute."
people,former owner name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""fmo"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as a former owner through an appropriate @role attribute.
people,former owner ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as a former owner through an appropriate @role attribute."
people,donor name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""dnr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as a donor through an appropriate @role attribute.
people,donor ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""dnr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as a donor through an appropriate @role attribute."
people,bookseller name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[contains(@role,""bsl"")]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element and identified as a bookseller through an appropriate @role attribute.
people,bookseller ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""bsl"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element and identified as a bookseller through an appropriate @role attribute."
people,other name(s),"//tei:provenance/normalize-space(string-join(.//tei:persName[not(@role)]/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the provenance information within a persName element who is not assigned a role through a @role attribute.
people,other ID(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[not(@role)]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the provenance information within a persName element who is not assigned a role through a @role attribute."
former owners (person),standard name(s),"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,names,display,semi-colon,text,"The standard name, extracted from the authority files, which is assigned to a person identified in the provenance information as a former owner."
former owners (person),birth,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,birth,when,space,date,"The date of birth, formatted as a date and extracted from the authority files, of the person who is identified in the provenance information as a former owner."
former owners (person),death,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,death,when,space,date,"The date of death, formatted as a date and extracted from the authority files, of the person who is identified in the provenance information as a former owner."
former owners (person),floruit not before,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,floruit,not before,space,date,"The terminus post quem of the active period, formatted as a date and extracted from the authority files, of the person who is identified in the provenance information as a former owner."
former owners (person),floruit not after,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,floruit,not after,space,date,"The terminus ante quem of the active period, formatted as a date and extracted from the authority files, of the person who is identified in the provenance information as a former owner."
former owners (person),occupation,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,occupation,semi-colon,text,"The occupation, extracted from the authority files, of the person who is identified in the provenance information as a former owner."
former owners (person),sex,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,sex,space,text,"The sex, extracted from the authority files, of the person who is identified in the provenance information as a former owner. Values are 'male', 'female', and 'unknown'."
former owners (person),nationality,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,nationality,semi-colon,text,"The nationality, extracted from the authority files, of the person who is identified in the provenance information as a former owner."
former owners (person),lang knowledge,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,lang knowledge,space,text,"The languages, extracted from the authority files, known by the person who is identified in the provenance information as a former owner."
former owners (person),residence,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,residence,semi-colon,text,"The residence, extracted from the authority files, of the person who is identified in the provenance information as a former owner."
former owners (person),affiliation,"//tei:provenance/string-join(distinct-values(.//tei:persName[contains(@role,""fmo"")]/@key), "" "")",persons,biography,affiliation,semi-colon,text,"The affiliation, extracted from the authority files, of the person who is identified in the provenance information as a former owner."
orgs,former owner name(s),"//tei:provenance/normalize-space(string-join(.//tei:orgName[contains(@role,""fmo"")]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance information within a orgName element and identified as a former owner through an appropriate @role attribute.
orgs,former owner ID(s),"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role,""fmo"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance information within a orgName element and identified as a former owner through an appropriate @role attribute."
orgs,patron name(s),"//tei:provenance/normalize-space(string-join(.//tei:orgName[contains(@role,""pat"")]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance information within a orgName element and identified as a patron through an appropriate @role attribute.
orgs,patron ID(s),"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role,""pat"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance information within a orgName element and identified as a patron through an appropriate @role attribute."
orgs,donor name(s),"//tei:provenance/normalize-space(string-join(.//tei:orgName[contains(@role,""dnr"")]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance information within a orgName element and identified as a donor through an appropriate @role attribute.
orgs,donor ID(s),"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role,""dnr"")]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance information within a orgName element and identified as a donor through an appropriate @role attribute."
orgs,other name(s),"//tei:provenance/normalize-space(string-join(.//tei:orgName[not(@role)]/string-join(., """"), ""; ""))",,,,,text,Details of any organisation(s) named within the provenance information within a orgName element who is not assigned a role through a @role attribute.
orgs,other ID(s),"//tei:provenance/string-join(distinct-values(.//tei:orgName[not(@role)]/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any organisation(s) named within the provenance information within a orgName element which is not assigned a role through a @role attribute."
former owners (org),standard name(s),"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,names,display,semi-colon,text,"The standard name, extracted from the authority files, which is assigned to an organisation identified in the provenance information as a former owner."
former owners (org),affiliation,"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,affiliation,affiliation,semi-colon,text,"The affiliation, extracted from the authority files, of the organisation identified in the provenance information as a former owner."
former owners (org),latitude,"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,longitude,semi-colon,number,"The geographic latitude, extracted from the authority files, of the organisation identified in the provenance information as a former owner."
former owners (org),longitude,"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,latitude,semi-colon,number,"The geographic longitude, extracted from the authority files, of the organisation identified in the provenance information as a former owner."
former owners (org),settlement,"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,settlement,semi-colon,text,"The settlement, extracted from the authority files, associated with the organisation identified in the provenance information as a former owner."
former owners (org),country,"//tei:provenance/string-join(distinct-values(.//tei:orgName[contains(@role, ""fmo"")]/@key), "" "")",orgs,location,country,semi-colon,text,"The country, extracted from the authority files, associated with the organisation identified in the provenance information as a former owner."
places,name(s),"//tei:provenance/normalize-space(string-join(.//tei:placeName/string-join(., """"), ""; ""))",,,,,text,Details of any place(s) named within the provenance information within a placeName element.
places,ID(s),"//tei:provenance/string-join(distinct-values(.//tei:placeName/@key), "" "")",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any place(s) named within the provenance information within a placeName element."
places,standard name(s),"//tei:provenance/string-join(distinct-values(.//tei:placeName/@key), "" "")",places,names,index,semi-colon,text,"The standard name, extracted from the authority files, of any place(s) named within the provenance information."
places,longitude,"//tei:provenance/string-join(distinct-values(.//tei:placeName/@key), "" "")",places,location,longitude,semi-colon,number,"The geographic latitude, extracted from the authority files, of any place(s) named within the provenance information."
places,latitude,"//tei:provenance/string-join(distinct-values(.//tei:placeName/@key), "" "")",places,location,latitude,semi-colon,number,"The geographic longitude, extracted from the authority files, of any place(s) named within the provenance information."
places,region,"//tei:provenance/string-join(distinct-values(.//tei:placeName/@key), "" "")",places,location,region,semi-colon,text,"The region, extracted from the authority files, associated with any place(s) named within the provenance information."
places,country,"//tei:provenance/string-join(distinct-values(.//tei:placeName/@key), "" "")",places,location,country,semi-colon,text,"The country, extracted from the authority files, associated with any place(s) named within the provenance information."