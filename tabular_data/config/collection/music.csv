section,heading,xpath,auth_file,auth_section,auth_col,separator,format,comment
metadata,music UID,"//tei:musicNotation/tei:p/concat(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""], ""_music_"", count(preceding::tei:musicNotation[not(tei:p)]|preceding::tei:musicNotation/tei:p) + 1)",,,,,text,"A unique identifier for the music notation, generated by concatenating the identifier given to the manuscript with which the music notation is associated with a count of how many musicNotation elements precede the current element in the entry file."
metadata,file URL,"//tei:musicNotation/tei:p/string-join(ancestor::tei:TEI/@xml:id, "" "")",,,,,text,"A unique identifier for the catalogue file, given in the xml:id attribute to the TEI root element."
metadata,collection,"//tei:musicNotation/tei:p/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""collection""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The collection in which the manuscript is recorded, given in an idno element within the publicationStmt element which has @type ""collection"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms ID,"//tei:musicNotation/tei:p/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:publicationStmt/tei:idno[@type=""msID""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript, given in an idno element within the publicationStmt element which has @type ""msID"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,shelfmark,"//tei:musicNotation/tei:p/string-join(ancestor::tei:TEI/tei:teiHeader/tei:fileDesc/tei:sourceDesc/tei:msDesc/tei:msIdentifier/tei:idno[@type=""shelfmark""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The shelfmark given to the manuscript, given in an idno element within the publicationStmt element which has @type ""shelfmark"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,ms type,"//tei:musicNotation/tei:p/string-join((ancestor::tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]/('part'),ancestor::tei:msPart[@type=('fragment','wrapper','flyleaf')]/('fragment'),ancestor::tei:msDesc[not(.//tei:msPart)]/('manuscript'),ancestor::tei:msDesc[.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))]]/('manuscript-composite'),ancestor::tei:msDesc[.//tei:msPart and not(.//tei:msPart[not(@type=('fragment','wrapper','flyleaf'))])]/('manuscript-with-fragment'))[1], "" "")",,,,,text,"Whether the current row concerns a fragment ('fragment'), a manuscript part ('part'), an entire manuscript ('manuscript'), a manuscript containing parts ('manuscript-composite') or a manuscript containing fragments ('manuscript-with-fragment'). "
metadata,part name,"//tei:musicNotation/tei:p/string-join((ancestor::tei:msPart|ancestor::tei:msDesc)[last()]//tei:idno[@type=""part""][not(@subtype=""alt"")]/string-join(.,""""), "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an idno element which has @type ""part"" and is not an alternative identifier (and therefore has no @subtype with ""alt"")."
metadata,part ID,"//tei:musicNotation/tei:p/string-join((ancestor::tei:msPart|ancestor::tei:msDesc)[last()]/@xml:id, "" "")",,,,,text,"The identifier given to the manuscript or manuscript part in an xml:id attribute. If the current row is not for a fragment or a manuscript part, this column will be the same as the metadata: ID column."
overview,music,"//tei:musicNotation/tei:p/normalize-space(string-join(., """"))",,,,,text,"An overview of the current musical notation, as encoded within the musicNotation element."
locus,locus,"//tei:musicNotation/tei:p/normalize-space(string-join(tei:locus[text()]/string-join(., """"), "" ""))",,,,,text,"Details of any locus information for this feature encoded within a locus element. When multiple loci are given, they are separated using a semi-colon."
locus,from,"//tei:musicNotation/tei:p/string-join(tei:locus/@from, "" "")",,,,,number,"The folio, page, or membrane reference at which this feature begins, as encoded within the @from attribute to a locus element. Where multiple loci are given, they are separated by a space."
locus,to,"//tei:musicNotation/tei:p/string-join(tei:locus/(@to|@from)[last()], "" "")",,,,,number,"The folio, page, or membrane reference at which this feature ends, as encoded within the @to attribute to a locus element. Where multiple loci are given, they are separated by a space."
dimensions,type,"//tei:musicNotation/tei:p/string-join(.//tei:dimensions/@type, "" "")",,,,,text,"Information about the type of measurements recorded, as encoded within the @type attribute to the dimensions element. The usual value is 'written', in this case corresponding to the area occupied by the music notation and any accompanying text."
dimensions,height,"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:dimensions/(tei:height[@quantity]/@quantity|tei:height[not(@quantity)]), "" ""))",,,,,number,"The height of the measured area, as encoded within the height element within a dimensions element. This value may or may not be numeric, and may be formatted as a range. In many cases measurements may be rounded, for example to the nearest 5mm. This field may contain multiple values when the layout is variable, with sections of distinct practice separated by a space."
dimensions,max height,"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:dimensions/(tei:height/@max|tei:height[@quantity]/@quantity|tei:height[not(@quantity)])[last()], "" ""))",,,,,number,"The maximum height of the measured area, as encoded within the @max attribute of the height element within a dimensions element. This value may or may not be numeric. In many cases measurements may be rounded, for example to the nearest 5mm. This field may contain multiple values when the layout is variable, with sections of distinct practice separated by a space."
dimensions,min height,"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:dimensions/(tei:height/@min|tei:height[@quantity]/@quantity|tei:height[not(@quantity)])[last()], "" ""))",,,,,number,"The minimum height of the measured area, as encoded within the @min attribute of the height element within a dimensions element. This value may or may not be numeric. In many cases measurements may be rounded, for example to the nearest 5mm. This field may contain multiple values when the layout is variable, with sections of distinct practice separated by a space."
dimensions,width,"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:dimensions/(tei:width[@quantity]/@quantity|tei:width[not(@quantity)]), "" ""))",,,,,number,"The width of the measured area, as encoded within the width element within a dimensions element. This value may or may not be numeric, and may be formatted as a range. In many cases measurements may be rounded, for example to the nearest 5mm. This field may contain multiple values when the layout is variable, with sections of distinct practice separated by a space."
dimensions,max width,"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:dimensions/(tei:width/@max|tei:width[@quantity]/@quantity|tei:width[not(@quantity)])[last()], "" ""))",,,,,number,"The maximum width of the measured area, as encoded within the @max attribute of the width element within a dimensions element. This value may or may not be numeric. In many cases measurements may be rounded, for example to the nearest 5mm. This field may contain multiple values when the layout is variable, with sections of distinct practice separated by a space."
dimensions,min width,"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:dimensions/(tei:width/@min|tei:width[@quantity]/@quantity|tei:width[not(@quantity)])[last()], "" ""))",,,,,number,"The minimum width of the measured area, as encoded within the @min attribute of the width element within a dimensions element. This value may or may not be numeric. In many cases measurements may be rounded, for example to the nearest 5mm. This field may contain multiple values when the layout is variable, with sections of distinct practice separated by a space."
dimensions,unit,"//tei:musicNotation/tei:p/string-join(.//tei:dimensions/@unit, "" "")",,,,,text,"The unit of the measurements, as encoded within the unit element of a dimensions element, within either the support or layout description. Common values are mm and in."
people,name(s),"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:persName/string-join(., """"), ""; ""))",,,,,text,Details of any person(s) named within the music notation information within a persName element.
people,ID(s),"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:persName/@key, "" ""))",,,,,text,"The identifier(s), corresponding to those found in the authority file, given for any person(s) named within the music notation information within a persName element."
bibliography,title(s),"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:title/string-join(., """"), ""; ""))",,,,,text,"The titles of all bibliographic references associated with this feature, as encoded within title elements."
bibliography,ref(s),"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:ref/string-join(., """"), ""; ""))",,,,,text,"All references associated with this feature, as encoded within ref elements."
bibliography,ref URI(s),"//tei:musicNotation/tei:p/normalize-space(string-join(.//tei:ref/@target, "" ""))",,,,,text,"URIs for all references associated with this feature, as encoded within @target attributes to ref elements."